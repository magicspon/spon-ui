"use strict";var CACHE_NAME="mudstone-sw",urlsToCache=["/","/app/themes/wbsl/dist/css/style.1516316112406.css","/app/themes/wbsl/dist/js/bundle.1516316112406.js"];function addToCache(e,n){if(n.ok){var t=n.clone();return caches.open(CACHE_NAME).then(function(n){n.put(e,t)}),n}}function fetchFromCache(e){return caches.match(e.request).then(function(e){if(!e)throw Error("${event.request.url} not found in cache");return e})}function offlineResponse(){return new Response("Sorry, the application is offline.")}function respondFromNetworkThenCache(e){var n=e.request;e.respondWith(fetch(n).then(function(e){return addToCache(n,e)}).catch(function(){return fetchFromCache(e)}).catch(function(){return offlineResponse()}))}function respondFromCacheThenNetwork(e){var n=e.request;e.respondWith(fetchFromCache(e).catch(function(){return fetch(n)}).then(function(e){return addToCache(n,e)}).catch(function(){return offlineResponse()}))}function shouldHandleFetch(e){return"get"===e.request.method.toLowerCase()&&-1===e.request.url.indexOf("/icons/")&&-1===e.request.url.indexOf("/browser-sync/")&&-1===e.request.url.indexOf("google-analytics.com")}self.addEventListener("install",function(e){e.waitUntil(caches.open(CACHE_NAME).then(function(e){return e.addAll(urlsToCache)}))}),self.addEventListener("fetch",function(e){shouldHandleFetch(e)&&(e.request.headers.get("Accept").indexOf("text/html")>=0?respondFromNetworkThenCache(e):respondFromCacheThenNetwork(e))}),self.addEventListener("activate",function(e){var n=[CACHE_NAME];e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if(-1===n.indexOf(e))return caches.delete(e)}))}))});